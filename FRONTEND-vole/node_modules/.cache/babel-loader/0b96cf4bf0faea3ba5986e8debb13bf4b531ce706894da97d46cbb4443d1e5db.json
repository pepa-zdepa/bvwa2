{"ast":null,"code":"import _objectSpread from\"C:/Users/wille/Documents/GitHub/BVWA2-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/wille/Documents/GitHub/BVWA2-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import ProfileForm from'./ProfileForm';import{jsx as _jsx}from\"react/jsx-runtime\";function Profile(_ref){var loggedInUser=_ref.loggedInUser;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),editMode=_useState2[0],setEditMode=_useState2[1];var _useState3=useState(_objectSpread({},loggedInUser)),_useState4=_slicedToArray(_useState3,2),userProfile=_useState4[0],setUserProfile=_useState4[1];var _useState5=useState(_objectSpread({},loggedInUser)),_useState6=_slicedToArray(_useState5,2),originalUserProfile=_useState6[0],setOriginalUserProfile=_useState6[1];useEffect(function(){setUserProfile(_objectSpread({},loggedInUser));setOriginalUserProfile(_objectSpread({},loggedInUser));},[loggedInUser]);var handleEditToggle=function handleEditToggle(){setEditMode(!editMode);};var handleSaveProfile=function handleSaveProfile(updatedUser){var storedUsers=JSON.parse(localStorage.getItem('registeredUsers'))||[];var updatedUsers=storedUsers.map(function(u){return u.email===loggedInUser.email?updatedUser:u;});localStorage.setItem('registeredUsers',JSON.stringify(updatedUsers));setEditMode(false);setUserProfile(updatedUser);};var handleCancelEdit=function handleCancelEdit(){setUserProfile(originalUserProfile);setEditMode(false);};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ProfileForm,{user:userProfile,onEditToggle:handleEditToggle,onSave:handleSaveProfile,onCancel:handleCancelEdit,editMode:editMode})});}export default Profile;","map":{"version":3,"names":["React","useState","useEffect","ProfileForm","jsx","_jsx","Profile","_ref","loggedInUser","_useState","_useState2","_slicedToArray","editMode","setEditMode","_useState3","_objectSpread","_useState4","userProfile","setUserProfile","_useState5","_useState6","originalUserProfile","setOriginalUserProfile","handleEditToggle","handleSaveProfile","updatedUser","storedUsers","JSON","parse","localStorage","getItem","updatedUsers","map","u","email","setItem","stringify","handleCancelEdit","children","user","onEditToggle","onSave","onCancel"],"sources":["C:/Users/wille/Documents/GitHub/BVWA2-frontend/src/Profile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport ProfileForm from './ProfileForm';\r\n\r\nfunction Profile({ loggedInUser }) {\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [userProfile, setUserProfile] = useState({ ...loggedInUser });\r\n  const [originalUserProfile, setOriginalUserProfile] = useState({ ...loggedInUser });\r\n\r\n  useEffect(() => {\r\n    setUserProfile({ ...loggedInUser });\r\n    setOriginalUserProfile({ ...loggedInUser });\r\n  }, [loggedInUser]);\r\n\r\n  const handleEditToggle = () => {\r\n    setEditMode(!editMode);\r\n  };\r\n\r\n  const handleSaveProfile = (updatedUser) => {\r\n    const storedUsers = JSON.parse(localStorage.getItem('registeredUsers')) || [];\r\n    const updatedUsers = storedUsers.map((u) => (u.email === loggedInUser.email ? updatedUser : u));\r\n    localStorage.setItem('registeredUsers', JSON.stringify(updatedUsers));\r\n\r\n    setEditMode(false);\r\n    setUserProfile(updatedUser);\r\n  };\r\n\r\n  const handleCancelEdit = () => {\r\n    setUserProfile(originalUserProfile);\r\n    setEditMode(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <ProfileForm\r\n        user={userProfile}\r\n        onEditToggle={handleEditToggle}\r\n        onSave={handleSaveProfile}\r\n        onCancel={handleCancelEdit}\r\n        editMode={editMode}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n"],"mappings":"uQAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,WAAW,KAAM,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAExC,QAAS,CAAAC,OAAOA,CAAAC,IAAA,CAAmB,IAAhB,CAAAC,YAAY,CAAAD,IAAA,CAAZC,YAAY,CAC7B,IAAAC,SAAA,CAAgCR,QAAQ,CAAC,KAAK,CAAC,CAAAS,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAxCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,IAAAI,UAAA,CAAsCb,QAAQ,CAAAc,aAAA,IAAMP,YAAY,CAAE,CAAC,CAAAQ,UAAA,CAAAL,cAAA,CAAAG,UAAA,IAA5DG,WAAW,CAAAD,UAAA,IAAEE,cAAc,CAAAF,UAAA,IAClC,IAAAG,UAAA,CAAsDlB,QAAQ,CAAAc,aAAA,IAAMP,YAAY,CAAE,CAAC,CAAAY,UAAA,CAAAT,cAAA,CAAAQ,UAAA,IAA5EE,mBAAmB,CAAAD,UAAA,IAAEE,sBAAsB,CAAAF,UAAA,IAElDlB,SAAS,CAAC,UAAM,CACdgB,cAAc,CAAAH,aAAA,IAAMP,YAAY,CAAE,CAAC,CACnCc,sBAAsB,CAAAP,aAAA,IAAMP,YAAY,CAAE,CAAC,CAC7C,CAAC,CAAE,CAACA,YAAY,CAAC,CAAC,CAElB,GAAM,CAAAe,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAA,CAAS,CAC7BV,WAAW,CAAC,CAACD,QAAQ,CAAC,CACxB,CAAC,CAED,GAAM,CAAAY,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAIC,WAAW,CAAK,CACzC,GAAM,CAAAC,WAAW,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAC,CAAC,EAAI,EAAE,CAC7E,GAAM,CAAAC,YAAY,CAAGL,WAAW,CAACM,GAAG,CAAC,SAACC,CAAC,QAAM,CAAAA,CAAC,CAACC,KAAK,GAAK1B,YAAY,CAAC0B,KAAK,CAAGT,WAAW,CAAGQ,CAAC,EAAC,CAAC,CAC/FJ,YAAY,CAACM,OAAO,CAAC,iBAAiB,CAAER,IAAI,CAACS,SAAS,CAACL,YAAY,CAAC,CAAC,CAErElB,WAAW,CAAC,KAAK,CAAC,CAClBK,cAAc,CAACO,WAAW,CAAC,CAC7B,CAAC,CAED,GAAM,CAAAY,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAA,CAAS,CAC7BnB,cAAc,CAACG,mBAAmB,CAAC,CACnCR,WAAW,CAAC,KAAK,CAAC,CACpB,CAAC,CAED,mBACER,IAAA,QAAAiC,QAAA,cACEjC,IAAA,CAACF,WAAW,EACVoC,IAAI,CAAEtB,WAAY,CAClBuB,YAAY,CAAEjB,gBAAiB,CAC/BkB,MAAM,CAAEjB,iBAAkB,CAC1BkB,QAAQ,CAAEL,gBAAiB,CAC3BzB,QAAQ,CAAEA,QAAS,CACpB,CAAC,CACC,CAAC,CAEV,CAEA,cAAe,CAAAN,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}