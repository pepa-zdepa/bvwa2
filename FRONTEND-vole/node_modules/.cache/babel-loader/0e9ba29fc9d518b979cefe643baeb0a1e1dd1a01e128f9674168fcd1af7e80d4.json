{"ast":null,"code":"import _objectSpread from\"C:/Users/wille/Documents/GitHub/BVWA2-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"C:/Users/wille/Documents/GitHub/BVWA2-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/wille/Documents/GitHub/BVWA2-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import ProfileForm from'./ProfileForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AdminPanel(){var _useState=useState(JSON.parse(sessionStorage.getItem('registeredUsers'))||[]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var _useState3=useState(JSON.parse(sessionStorage.getItem('bannedUsers'))||[]),_useState4=_slicedToArray(_useState3,2),bannedUsers=_useState4[0],setBannedUsers=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),selectedUser=_useState6[0],setSelectedUser=_useState6[1];useEffect(function(){var storedUsers=JSON.parse(localStorage.getItem('registeredUsers'))||[];var activeUsers=storedUsers.filter(function(user){return!bannedUsers.find(function(bannedUser){return bannedUser.email===user.email;});});setUsers(activeUsers);},[bannedUsers]);var handleBanUser=function handleBanUser(email){var userToBan=users.find(function(user){return user.email===email;});setUsers(users.filter(function(user){return user.email!==email;}));setBannedUsers([].concat(_toConsumableArray(bannedUsers),[userToBan]));};var handleUnbanUser=function handleUnbanUser(email){var userToUnban=bannedUsers.find(function(user){return user.email===email;});setBannedUsers(bannedUsers.filter(function(user){return user.email!==email;}));setUsers([].concat(_toConsumableArray(users),[userToUnban]));};var handleEmulateUser=function handleEmulateUser(email){var userToEmulate=users.find(function(user){return user.email===email;});setSelectedUser(userToEmulate);};var handleSaveEmulatedProfile=function handleSaveEmulatedProfile(updatedUser){var updatedUsers=users.map(function(u){return u.email===updatedUser.email?updatedUser:u;});setUsers(updatedUsers);setSelectedUser(null);localStorage.setItem('registeredUsers',JSON.stringify(updatedUsers));};var handleToggleAdmin=function handleToggleAdmin(email){var updatedUsers=users.map(function(user){if(user.email===email){return _objectSpread(_objectSpread({},user),{},{isAdmin:!user.isAdmin});}return user;});setUsers(updatedUsers);localStorage.setItem('registeredUsers',JSON.stringify(updatedUsers));};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md mx-auto mt-10 p-8 bg-white rounded-lg shadow-lg\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-semibold mb-4\",children:\"Admin Panel\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-2\",children:\"Active Users\"}),/*#__PURE__*/_jsx(\"ul\",{children:users.map(function(user){return/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-center justify-between border-b py-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[user.email,user.isAdmin&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm text-green-500\",children:\"Admin\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleBanUser(user.email);},className:\"bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded-full mr-2\",children:\"Ban\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleEmulateUser(user.email);},className:\"bg-blue-500 hover:bg-blue-600 text-white px-2 py-1 rounded-full\",children:\"Emulate\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleToggleAdmin(user.email);},className:\"bg-purple-500 hover:bg-purple-600 text-white px-2 py-1 rounded-full mr-2 \".concat(user.isAdmin?'opacity-50 cursor-not-allowed':''),disabled:user.isAdmin,children:user.isAdmin?'Admin':'Make Admin'})]})]},user.email);})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-2\",children:\"Banned Users\"}),/*#__PURE__*/_jsx(\"ul\",{children:bannedUsers.map(function(user){return/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-center justify-between border-b py-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"italic text-red-500\",children:[user.email,\" (Banned)\"]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleUnbanUser(user.email);},className:\"bg-green-500 hover:bg-green-600 text-white px-2 py-1 rounded-full mr-2\",children:\"Unban\"})})]},user.email);})})]}),selectedUser&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-2\",children:\"Emulated User Profile\"}),/*#__PURE__*/_jsx(ProfileForm,{user:selectedUser,onSave:handleSaveEmulatedProfile,onCancel:function onCancel(){return setSelectedUser(null);},editMode:true})]})]});}export default AdminPanel;","map":{"version":3,"names":["React","useEffect","useState","ProfileForm","jsx","_jsx","jsxs","_jsxs","AdminPanel","_useState","JSON","parse","sessionStorage","getItem","_useState2","_slicedToArray","users","setUsers","_useState3","_useState4","bannedUsers","setBannedUsers","_useState5","_useState6","selectedUser","setSelectedUser","storedUsers","localStorage","activeUsers","filter","user","find","bannedUser","email","handleBanUser","userToBan","concat","_toConsumableArray","handleUnbanUser","userToUnban","handleEmulateUser","userToEmulate","handleSaveEmulatedProfile","updatedUser","updatedUsers","map","u","setItem","stringify","handleToggleAdmin","_objectSpread","isAdmin","className","children","onClick","disabled","onSave","onCancel","editMode"],"sources":["C:/Users/wille/Documents/GitHub/BVWA2-frontend/src/AdminPanel.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport ProfileForm from './ProfileForm';\r\n\r\nfunction AdminPanel() {\r\n  const [users, setUsers] = useState(JSON.parse(sessionStorage.getItem('registeredUsers')) || []);\r\n  const [bannedUsers, setBannedUsers] = useState(JSON.parse(sessionStorage.getItem('bannedUsers')) || []);\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const storedUsers = JSON.parse(localStorage.getItem('registeredUsers')) || [];\r\n    const activeUsers = storedUsers.filter(user => !bannedUsers.find(bannedUser => bannedUser.email === user.email));\r\n    setUsers(activeUsers);\r\n  }, [bannedUsers]);\r\n\r\n  const handleBanUser = (email) => {\r\n    const userToBan = users.find(user => user.email === email);\r\n    setUsers(users.filter(user => user.email !== email));\r\n    setBannedUsers([...bannedUsers, userToBan]);\r\n  };\r\n\r\n  const handleUnbanUser = (email) => {\r\n    const userToUnban = bannedUsers.find(user => user.email === email);\r\n    setBannedUsers(bannedUsers.filter(user => user.email !== email));\r\n    setUsers([...users, userToUnban]);\r\n  };\r\n\r\n  const handleEmulateUser = (email) => {\r\n    const userToEmulate = users.find(user => user.email === email);\r\n    setSelectedUser(userToEmulate);\r\n  };\r\n\r\n  const handleSaveEmulatedProfile = (updatedUser) => {\r\n    const updatedUsers = users.map(u => (u.email === updatedUser.email ? updatedUser : u));\r\n    setUsers(updatedUsers);\r\n  \r\n    setSelectedUser(null);\r\n  \r\n    localStorage.setItem('registeredUsers', JSON.stringify(updatedUsers));\r\n  };\r\n\r\n  const handleToggleAdmin = (email) => {\r\n    const updatedUsers = users.map(user => {\r\n      if (user.email === email) {\r\n        return { ...user, isAdmin: !user.isAdmin };\r\n      }\r\n      return user;\r\n    });\r\n  \r\n    setUsers(updatedUsers);\r\n    localStorage.setItem('registeredUsers', JSON.stringify(updatedUsers));\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-md mx-auto mt-10 p-8 bg-white rounded-lg shadow-lg\">\r\n      <h1 className=\"text-3xl font-semibold mb-4\">Admin Panel</h1>\r\n\r\n      {/* Display active users */}\r\n      <div className=\"mb-6\">\r\n        <h2 className=\"text-xl font-semibold mb-2\">Active Users</h2>\r\n        <ul>\r\n          {users.map(user => (\r\n            <li key={user.email} className=\"flex items-center justify-between border-b py-2\">\r\n              <div>{user.email}\r\n              {user.isAdmin && <span className=\"ml-2 text-sm text-green-500\">Admin</span>}\r\n              </div>\r\n              <div>\r\n                <button\r\n                  onClick={() => handleBanUser(user.email)}\r\n                  className=\"bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded-full mr-2\"\r\n                >\r\n                  Ban\r\n                </button>\r\n                <button\r\n                  onClick={() => handleEmulateUser(user.email)}\r\n                  className=\"bg-blue-500 hover:bg-blue-600 text-white px-2 py-1 rounded-full\"\r\n                >\r\n                  Emulate\r\n                </button>\r\n                <button\r\n        onClick={() => handleToggleAdmin(user.email)}\r\n        className={`bg-purple-500 hover:bg-purple-600 text-white px-2 py-1 rounded-full mr-2 ${user.isAdmin ? 'opacity-50 cursor-not-allowed' : ''}`}\r\n        disabled={user.isAdmin}\r\n      >\r\n        {user.isAdmin ? 'Admin' : 'Make Admin'}\r\n      </button>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n\r\n      {/* Display banned users */}\r\n      <div>\r\n        <h2 className=\"text-xl font-semibold mb-2\">Banned Users</h2>\r\n        <ul>\r\n          {bannedUsers.map(user => (\r\n            <li key={user.email} className=\"flex items-center justify-between border-b py-2\">\r\n              <div className=\"italic text-red-500\">{user.email} (Banned)</div>\r\n              <div>\r\n                <button\r\n                  onClick={() => handleUnbanUser(user.email)}\r\n                  className=\"bg-green-500 hover:bg-green-600 text-white px-2 py-1 rounded-full mr-2\"\r\n                >\r\n                  Unban\r\n                </button>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n\r\n      {/* Emulated Profile Form */}\r\n      {selectedUser && (\r\n        <div className=\"mt-6\">\r\n          <h2 className=\"text-xl font-semibold mb-2\">Emulated User Profile</h2>\r\n          <ProfileForm\r\n            user={selectedUser}\r\n            onSave={handleSaveEmulatedProfile}\r\n            onCancel={() => setSelectedUser(null)}\r\n            editMode={true}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminPanel;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}